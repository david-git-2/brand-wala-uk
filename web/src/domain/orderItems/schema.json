{
  "$id": "order_items",
  "collection": "order_items",
  "documentId": "{order_item_id}",
  "description": "Flat order item document stored in separate top-level collection",
  "required": [
    "order_item_id",
    "order_id",
    "item_sl",
    "product_id",
    "product_code",
    "barcode",
    "name",
    "brand",
    "image_url",
    "case_size",
    "needed_quantity",
    "delivered_quantity",
    "purchase_price_gbp",
    "offer_price_bdt_on_purchase",
    "offer_price_bdt_on_total",
    "offer_price_mode",
    "offered_price_bdt",
    "customer_counter_offer_price_bdt",
    "final_price_bdt",
    "profit_rate",
    "created_at",
    "updated_at"
  ],
  "properties": {
    "order_item_id": { "type": "string" },
    "order_id": { "type": "string" },
    "item_sl": { "type": "integer", "minimum": 1 },
    "product_id": { "type": "string" },
    "product_code": { "type": "string" },
    "barcode": { "type": "string" },
    "name": { "type": "string" },
    "brand": { "type": "string" },
    "image_url": { "type": "string" },
    "case_size": { "type": "number", "minimum": 0 },
    "needed_quantity": { "type": "number", "minimum": 0 },
    "delivered_quantity": { "type": "number", "minimum": 0 },
    "purchase_price_gbp": { "type": "number", "minimum": 0 },
    "offer_price_bdt_on_purchase": { "type": "number", "minimum": 0 },
    "offer_price_bdt_on_total": { "type": "number", "minimum": 0 },
    "offer_price_mode": { "type": "string", "enum": ["purchase", "total"] },
    "offered_price_bdt": { "type": "number", "minimum": 0 },
    "customer_counter_offer_price_bdt": { "type": "number", "minimum": 0 },
    "final_price_bdt": { "type": "number", "minimum": 0 },
    "profit_rate": { "type": "number", "minimum": 0 },
    "created_at": { "type": "timestamp" },
    "updated_at": { "type": "timestamp" }
  }
}
